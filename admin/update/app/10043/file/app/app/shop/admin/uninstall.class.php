<?phpdefined('IN_MET') or exit ('No permission');load::sys_func('file');class uninstall{	public function dodel() {		global $_M;		$no = 10043;		$query = "DELETE FROM {$_M['table']['app_plugin']} WHERE no='{$no}'";		DB::query($query);		$query = "DELETE FROM {$_M['table']['applist']} WHERE no='{$no}'";		DB::query($query);		$query = "DELETE FROM {$_M['table']['language']} WHERE app='{$no}'";		DB::query($query);        $query = "DELETE FROM {$_M['table']['ifmember_left']} WHERE no='{$no}'";        DB::query($query);		/*		 *删除表		 */		$query = "DROP TABLE {$_M['table']['shopv2_address']}";		DB::query($query);		$query = "DROP TABLE {$_M['table']['shopv2_cart']}";		DB::query($query);		$query = "DROP TABLE {$_M['table']['shopv2_discount']}";		DB::query($query);		$query = "DROP TABLE {$_M['table']['shopv2_discount_coupon']}";		DB::query($query);		$query = "DROP TABLE {$_M['table']['shopv2_finance']}";		DB::query($query);		$query = "DROP TABLE {$_M['table']['shopv2_logistics']}";		DB::query($query);		$query = "DROP TABLE {$_M['table']['shopv2_logistics_zone']}";		DB::query($query);		$query = "DROP TABLE {$_M['table']['shopv2_order']}";		DB::query($query);		$query = "DROP TABLE {$_M['table']['shopv2_order_goods']}";		DB::query($query);		$query = "DROP TABLE {$_M['table']['shopv2_order_statistics']}";		DB::query($query);		$query = "DROP TABLE {$_M['table']['shopv2_para']}";		DB::query($query);		$query = "DROP TABLE {$_M['table']['shopv2_plist']}";		DB::query($query);		$query = "DROP TABLE {$_M['table']['shopv2_product']}";		DB::query($query);		$query = "DROP TABLE {$_M['table']['shopv2_searchlist']}";		DB::query($query);		$query = "DROP TABLE {$_M['table']['shopv2_skin_table']}";		DB::query($query);		$query = "DROP TABLE {$_M['table']['shopv2_user']}";		DB::query($query);		$query = "DROP TABLE {$_M['table']['shopv2_searchlist_tag']}";		DB::query($query);		$query = "DROP TABLE {$_M['table']['shopv2_tracking']}";		DB::query($query);		$query = "DROP TABLE {$_M['table']['shopv2_favorite']}";		DB::query($query);		$query = "DROP TABLE {$_M['table']['shopv2_group_discount']}";		DB::query($query);		$query = "DROP TABLE {$_M['table']['shopv2_converse']}";		DB::query($query);		$query = "DROP TABLE {$_M['table']['shopv2_card']}";		DB::query($query);		$query = "DROP TABLE {$_M['table']['shopv2_zone']}";		DB::query($query);		$query = "DROP TABLE {$_M['table']['shopv2_goods_relation']}";		DB::query($query);		$query = "DROP TABLE {$_M['table']['shopv2_goods_spec']}";		DB::query($query);		$query = "DROP TABLE {$_M['table']['shopv2_goods_spec_value']}";		DB::query($query);		$query = "DROP TABLE {$_M['table']['shopv2_goods_splist']}";		DB::query($query);		/*		 *删除、注销表名		 */		del_table('shopv2_address|shopv2_cart|shopv2_discount|shopv2_discount_coupon|shopv2_finance|shopv2_logistics|shopv2_logistics_zone|shopv2_order|shopv2_order_goods|shopv2_para|shopv2_plist|shopv2_product|shopv2_searchlist|shopv2_skin_table|shopv2_user|shopv2_tracking|shopv2_searchlist_tag|shopv2_favorite|shopv2_order_statistics|shopv2_group_discount|shopv2_converse|shopv2_card|shopv2_converse|shopv2_zone|shopv2_goods_relation|shopv2_goods_spec|shopv2_goods_spec_value|shopv2_goods_splist|');        //删除应用配置文件        $this->app_config_del($no);		deldir(PATH_WEB.'shop');		deldir(PATH_WEB.'app/app/shop');		//echo '删除成功！';	}	public function app_config_del($no){		global $_M;		$query = "DELETE FROM {$_M['table']['app_config']} WHERE appno='{$no}'";		DB::query($query);	}}?>